import{b as R,c as g,d as T,e as D,h as G,j as U,k as j,s as y,u as E}from"./chunk-DPXVNYAO.js";import{b as V,c as b}from"./chunk-T27HKZBY.js";import{a as A}from"./chunk-KFQMAG5E.js";import{a as te}from"./chunk-C2RAKW7E.js";import{Ba as a,Ca as J,Da as f,Ka as _,M as v,Oa as Y,Pa as K,U as X,V as Z,ba as l,bb as C,ca as c,db as ee,gb as S,ia as p,ka as s,pa as o,qa as r,ra as m,sb as k,tb as L,va as x,wa as h,wb as O}from"./chunk-OJEA5YKO.js";var B=(()=>{class t{handleGoogleLogin(){window.location.href=`${te.apiUrl}/security/google`}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=v({type:t,selectors:[["app-google-login"]],standalone:!0,features:[_],decls:9,vars:0,consts:[[1,"google-btn-wrapper"],["aria-label","Connexion avec Google",1,"google-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48","width","24","height","24"],["fill","#EA4335","d","M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"],["fill","#4285F4","d","M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"],["fill","#FBBC05","d","M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"],["fill","#34A853","d","M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"button",1),x("click",function(){return e.handleGoogleLogin()}),X(),o(2,"svg",2),m(3,"path",3)(4,"path",4)(5,"path",5)(6,"path",6),r(),Z(),o(7,"span"),a(8,"Continuer avec Google"),r()()())},styles:[".google-btn-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:0}.google-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 2rem;background:#fff;border:1px solid #ddd;border-radius:6px;font-size:1.1rem;color:#444;font-weight:500;cursor:pointer;box-shadow:0 2px 8px #4285f414;transition:background .2s,box-shadow .2s,transform .1s}.google-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;box-shadow:0 4px 16px #4285f41f;transform:translateY(-2px) scale(1.03)}.google-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:.5rem}@media (max-width: 600px){.google-btn[_ngcontent-%COMP%]{width:100%;padding:.75rem .5rem;font-size:1rem}}"]})}}return t})();function se(t,d){if(t&1&&(o(0,"div",16),a(1),r()),t&2){let n=h();l(),f(" ",n.errorMessage," ")}}var ie=(()=>{class t{constructor(n,i,e,u){this.fb=n,this.authService=i,this.router=e,this.notificationService=u,this.isLoading=!1,this.errorMessage="",this.loginForm=this.fb.group({username:["",[g.required]],password:["",[g.required]]})}ngOnInit(){this.loginForm.valueChanges.subscribe(()=>{this.errorMessage=""})}onSubmit(){if(this.loginForm.valid){this.isLoading=!0,this.errorMessage="";let n={username:this.loginForm.get("username")?.value||"",password:this.loginForm.get("password")?.value||"",socialLogin:!1,googleHash:"",facebookHash:""};this.authService.login(n).subscribe({next:i=>{this.isLoading=!1,i&&i.data&&i.data.token&&(this.notificationService.success("Bienvenue !"),localStorage.setItem("token",i.data.token),this.parseJwt(i.data.token).role==="ADMIN"?this.router.navigate(["/admin/dashboard"]):this.router.navigate(["/dashboard"]))},error:i=>{console.log("ERREUR LOGIN",i),this.isLoading=!1,i?.status===401&&(i?.error?.code==="USER_INACTIVE"||i?.error?.message==="User is not active")?(this.errorMessage="Votre compte est d\xE9sactiv\xE9. Un administrateur vous a envoy\xE9 un email. Contactez-nous si besoin.",this.notificationService.error("Votre compte est d\xE9sactiv\xE9. Un administrateur vous a envoy\xE9 un email. Contactez-nous si besoin.")):i?.status===401&&(i?.error?.code==="api.payload.error.is-not-valid"||i?.error?.message==="Invalid Password Exception"||i?.code==="api.payload.error.is-not-valid"||i?.message==="Invalid Password Exception")?(console.log("Toast mauvais identifiants d\xE9clench\xE9"),this.errorMessage="Identifiants invalides",this.notificationService.error("Email ou mot de passe incorrect.")):(this.errorMessage="Une erreur est survenue.",this.notificationService.error("Une erreur est survenue."))}})}}parseJwt(n){try{let e=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(e))}catch{return{}}}get currentYear(){return new Date().getFullYear()}static{this.\u0275fac=function(i){return new(i||t)(c(y),c(b),c(k),c(A))}}static{this.\u0275cmp=v({type:t,selectors:[["app-login"]],standalone:!0,features:[_],decls:26,vars:5,consts:[[1,"login-container"],[1,"login-card"],[1,"logo-container"],["src","assets/TFE.jpg","alt","Network Hub Pro",1,"logo"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","username"],["id","username","type","text","formControlName","username","placeholder","Entrez votre nom d'utilisateur ou email",1,"form-control"],["for","password"],["id","password","type","password","formControlName","password","placeholder","Entrez votre mot de passe",1,"form-control"],["type","submit",1,"btn-primary",3,"disabled"],["class","error-message",4,"ngIf"],[1,"links"],["routerLink","/auth/register"],["routerLink","/auth/forgot-password"],[1,"copyright"],[1,"error-message"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),m(3,"img",3),r(),o(4,"h1"),a(5,"Login"),r(),o(6,"form",4),x("ngSubmit",function(){return e.onSubmit()}),o(7,"div",5)(8,"label",6),a(9,"Nom d'utilisateur ou Email"),r(),m(10,"input",7),r(),o(11,"div",5)(12,"label",8),a(13,"Mot de passe"),r(),m(14,"input",9),r(),o(15,"button",10),a(16),r(),p(17,se,2,1,"div",11),o(18,"div",12)(19,"a",13),a(20,"Pas encore de compte ? Inscrivez-vous"),r(),o(21,"a",14),a(22,"Mot de passe oubli\xE9 ?"),r()()(),m(23,"app-google-login"),o(24,"div",15),a(25),r()()()),i&2&&(l(6),s("formGroup",e.loginForm),l(9),s("disabled",e.loginForm.invalid||e.isLoading),l(),f(" ",e.isLoading?"Connexion...":"Login"," "),l(),s("ngIf",e.errorMessage),l(8),f("\xA9 ",e.currentYear," Kiwi Club"))},dependencies:[S,C,E,G,R,T,D,U,j,O,L,B],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:#f5f7fa}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:2rem;background:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a;display:flex;flex-direction:column;align-items:center;position:relative}.logo-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.logo[_ngcontent-%COMP%]{max-width:150px}h1[_ngcontent-%COMP%]{text-align:center;color:#2c3e50;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem;width:100%}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#34495e}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem;background:#eaf1fa}.error-message[_ngcontent-%COMP%]{color:#e74c3c;margin:1rem 0;text-align:center;font-weight:700;font-size:1.1em}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#3498db;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer;transition:background-color .3s;margin-bottom:1rem}.btn-primary[_ngcontent-%COMP%]:hover{background:#2980b9}.btn-primary[_ngcontent-%COMP%]:disabled{background:#bdc3c7;cursor:not-allowed}.links[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:.2rem;text-align:center;display:flex;flex-direction:column;gap:.5rem}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3498db;text-decoration:none;font-size:.95rem}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}app-google-login[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-bottom:.5rem;margin-top:0}.copyright[_ngcontent-%COMP%]{text-align:center;color:#aaa;font-size:.9rem;margin-top:1rem;width:100%}"]})}}return t})();function me(t,d){t&1&&(o(0,"div")(1,"small",28),a(2,"Le pr\xE9nom est requis."),r()())}function de(t,d){t&1&&(o(0,"div")(1,"small",28),a(2,"Le nom est requis."),r()())}function ce(t,d){t&1&&(o(0,"small",28),a(1,"Le nom d'utilisateur est requis."),r())}function pe(t,d){t&1&&(o(0,"small",28),a(1,"Minimum 3 caract\xE8res."),r())}function ue(t,d){if(t&1&&(o(0,"div"),p(1,ce,2,0,"small",24)(2,pe,2,0,"small",24),r()),t&2){let n,i,e=h();l(),s("ngIf",(n=e.registerForm.get("username"))==null||n.errors==null?null:n.errors.required),l(),s("ngIf",(i=e.registerForm.get("username"))==null||i.errors==null?null:i.errors.minlength)}}function ge(t,d){t&1&&(o(0,"small",28),a(1,"L'email est requis."),r())}function fe(t,d){t&1&&(o(0,"small",28),a(1,"Format d'email invalide."),r())}function ve(t,d){if(t&1&&(o(0,"div"),p(1,ge,2,0,"small",24)(2,fe,2,0,"small",24),r()),t&2){let n,i,e=h();l(),s("ngIf",(n=e.registerForm.get("mail"))==null||n.errors==null?null:n.errors.required),l(),s("ngIf",(i=e.registerForm.get("mail"))==null||i.errors==null?null:i.errors.email)}}function he(t,d){t&1&&(o(0,"div")(1,"small",28),a(2,"Le nom de l'entreprise est requis."),r()())}function _e(t,d){t&1&&(o(0,"small",28),a(1,"Le mot de passe est requis."),r())}function be(t,d){t&1&&(o(0,"small",28),a(1,"Minimum 6 caract\xE8res."),r())}function xe(t,d){if(t&1&&(o(0,"div"),p(1,_e,2,0,"small",24)(2,be,2,0,"small",24),r()),t&2){let n,i,e=h();l(),s("ngIf",(n=e.registerForm.get("password"))==null||n.errors==null?null:n.errors.required),l(),s("ngIf",(i=e.registerForm.get("password"))==null||i.errors==null?null:i.errors.minlength)}}function Ce(t,d){t&1&&(o(0,"div")(1,"small",28),a(2,"La confirmation du mot de passe est requise."),r()())}function Se(t,d){t&1&&(o(0,"div")(1,"small",28),a(2,"Les mots de passe ne correspondent pas."),r()())}function ye(t,d){if(t&1&&(o(0,"div",28),a(1),r()),t&2){let n=h();l(),f(" ",n.errorMessage," ")}}var re=(()=>{class t{constructor(n,i,e){this.fb=n,this.authService=i,this.router=e,this.isLoading=!1,this.errorMessage="",this.registerForm=this.fb.group({firstName:["",[g.required]],lastName:["",[g.required]],username:["",[g.required,g.minLength(3)]],mail:["",[g.required,g.email]],companyName:["",[g.required]],companySector:[""],password:["",[g.required,g.minLength(6)]],confirmPassword:["",[g.required]]})}ngOnInit(){}onSubmit(){if(this.registerForm.valid){this.isLoading=!0,this.errorMessage="";let n={firstName:this.registerForm.get("firstName")?.value||"",lastName:this.registerForm.get("lastName")?.value||"",username:this.registerForm.get("username")?.value||"",mail:this.registerForm.get("mail")?.value||"",companyName:this.registerForm.get("companyName")?.value||"",companySector:this.registerForm.get("companySector")?.value||"",password:this.registerForm.get("password")?.value||"",confirmPassword:this.registerForm.get("confirmPassword")?.value||""};this.authService.register(n).subscribe({next:()=>{this.isLoading=!1,this.router.navigate(["/auth/login"])},error:i=>{this.isLoading=!1,this.errorMessage=i.message||"Une erreur est survenue lors de l'inscription"}})}}static{this.\u0275fac=function(i){return new(i||t)(c(y),c(b),c(k))}}static{this.\u0275cmp=v({type:t,selectors:[["app-register"]],standalone:!0,features:[_],decls:57,vars:12,consts:[[1,"register-container"],[1,"register-card"],[1,"logo-container"],["src","assets/TFE.jpg","alt","Network Hub Pro",1,"logo"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","firstName"],["id","firstName","type","text","formControlName","firstName","placeholder","Votre pr\xE9nom",1,"form-control"],[4,"ngIf"],["for","lastName"],["id","lastName","type","text","formControlName","lastName","placeholder","Votre nom",1,"form-control"],["for","username"],["id","username","type","text","formControlName","username","placeholder","Choisissez un nom d'utilisateur",1,"form-control"],[1,"form-text","text-muted"],["for","mail"],["id","mail","type","email","formControlName","mail","placeholder","Votre adresse email",1,"form-control"],["for","companyName"],["id","companyName","type","text","formControlName","companyName","placeholder","Nom de votre entreprise",1,"form-control"],["for","companySector"],["id","companySector","type","text","formControlName","companySector","placeholder","Secteur d'activit\xE9 de votre entreprise",1,"form-control"],["for","password"],["id","password","type","password","formControlName","password","placeholder","Choisissez un mot de passe",1,"form-control"],["for","confirmPassword"],["id","confirmPassword","type","password","formControlName","confirmPassword","placeholder","Confirmez votre mot de passe",1,"form-control"],["class","error-message",4,"ngIf"],["type","submit",3,"disabled"],[1,"login-link"],["routerLink","/auth/login"],[1,"error-message"]],template:function(i,e){if(i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),m(3,"img",3),r(),o(4,"h1"),a(5,"Inscription"),r(),o(6,"form",4),x("ngSubmit",function(){return e.onSubmit()}),o(7,"div",5)(8,"label",6),a(9,"Pr\xE9nom"),r(),m(10,"input",7),p(11,me,3,0,"div",8),r(),o(12,"div",5)(13,"label",9),a(14,"Nom"),r(),m(15,"input",10),p(16,de,3,0,"div",8),r(),o(17,"div",5)(18,"label",11),a(19,"Nom d'utilisateur"),r(),m(20,"input",12),o(21,"small",13),a(22," Minimum 3 caract\xE8res, lettres et chiffres uniquement "),r(),p(23,ue,3,2,"div",8),r(),o(24,"div",5)(25,"label",14),a(26,"Email"),r(),m(27,"input",15),p(28,ve,3,2,"div",8),r(),o(29,"div",5)(30,"label",16),a(31,"Nom de l'entreprise"),r(),m(32,"input",17),p(33,he,3,0,"div",8),r(),o(34,"div",5)(35,"label",18),a(36,"Secteur d'activit\xE9"),r(),m(37,"input",19),r(),o(38,"div",5)(39,"label",20),a(40,"Mot de passe"),r(),m(41,"input",21),o(42,"small",13),a(43," Minimum 6 caract\xE8res, au moins une lettre et un chiffre "),r(),p(44,xe,3,2,"div",8),r(),o(45,"div",5)(46,"label",22),a(47,"Confirmer le mot de passe"),r(),m(48,"input",23),p(49,Ce,3,0,"div",8)(50,Se,3,0,"div",8),r(),p(51,ye,2,1,"div",24),o(52,"button",25),a(53),r(),o(54,"div",26)(55,"a",27),a(56,"D\xE9j\xE0 inscrit ? Connectez-vous"),r()()()()()),i&2){let u,w,F,M,P,I,N,q;l(6),s("formGroup",e.registerForm),l(5),s("ngIf",((u=e.registerForm.get("firstName"))==null?null:u.invalid)&&(((u=e.registerForm.get("firstName"))==null?null:u.dirty)||((u=e.registerForm.get("firstName"))==null?null:u.touched))),l(5),s("ngIf",((w=e.registerForm.get("lastName"))==null?null:w.invalid)&&(((w=e.registerForm.get("lastName"))==null?null:w.dirty)||((w=e.registerForm.get("lastName"))==null?null:w.touched))),l(7),s("ngIf",((F=e.registerForm.get("username"))==null?null:F.invalid)&&(((F=e.registerForm.get("username"))==null?null:F.dirty)||((F=e.registerForm.get("username"))==null?null:F.touched))),l(5),s("ngIf",((M=e.registerForm.get("mail"))==null?null:M.invalid)&&(((M=e.registerForm.get("mail"))==null?null:M.dirty)||((M=e.registerForm.get("mail"))==null?null:M.touched))),l(5),s("ngIf",((P=e.registerForm.get("companyName"))==null?null:P.invalid)&&(((P=e.registerForm.get("companyName"))==null?null:P.dirty)||((P=e.registerForm.get("companyName"))==null?null:P.touched))),l(11),s("ngIf",((I=e.registerForm.get("password"))==null?null:I.invalid)&&(((I=e.registerForm.get("password"))==null?null:I.dirty)||((I=e.registerForm.get("password"))==null?null:I.touched))),l(5),s("ngIf",((N=e.registerForm.get("confirmPassword"))==null?null:N.invalid)&&(((N=e.registerForm.get("confirmPassword"))==null?null:N.dirty)||((N=e.registerForm.get("confirmPassword"))==null?null:N.touched))),l(),s("ngIf",e.registerForm.hasError("mismatch")&&(((q=e.registerForm.get("confirmPassword"))==null?null:q.dirty)||((q=e.registerForm.get("confirmPassword"))==null?null:q.touched))),l(),s("ngIf",e.errorMessage),l(),s("disabled",e.registerForm.invalid||e.isLoading),l(),f(" ",e.isLoading?"Inscription en cours...":"Cr\xE9er un compte"," ")}},dependencies:[S,C,E,G,R,T,D,U,j,O,L],styles:[".register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:#f5f7fa}.register-card[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:2rem;background:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a}.logo-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.logo[_ngcontent-%COMP%]{width:150px}h1[_ngcontent-%COMP%]{text-align:center;color:#2c3e50;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:4px;margin-bottom:.5rem}.error-message[_ngcontent-%COMP%]{color:#e74c3c;margin-bottom:1rem;text-align:center}button[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#3498db;color:#fff;border:none;border-radius:4px;cursor:pointer;margin-top:1rem}button[_ngcontent-%COMP%]:disabled{background:#bdc3c7;cursor:not-allowed}.login-link[_ngcontent-%COMP%]{margin-top:1rem;text-align:center}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3498db;text-decoration:none}"]})}}return t})();function Ee(t,d){if(t&1&&(o(0,"div",1)(1,"h2"),a(2),r(),o(3,"div",2)(4,"p"),a(5),r(),o(6,"p"),a(7),r(),o(8,"p"),a(9),r(),o(10,"p"),a(11),Y(12,"date"),r(),o(13,"p"),a(14),Y(15,"date"),r()()()),t&2){let n=h();l(2),f("Profil de ",n.user.username,""),l(3),f("Email: ",n.user.mail,""),l(2),f("Statut: ",n.user.active?"Actif":"Inactif",""),l(2),f("Role: ",n.user.isAdmin?"Administrateur":"Utilisateur",""),l(2),f("Cr\xE9\xE9 le: ",K(12,6,n.user.created),""),l(3),f("Derni\xE8re mise \xE0 jour: ",K(15,8,n.user.updated),"")}}var ne=(()=>{class t{constructor(n,i){this.fb=n,this.authService=i,this.user=null,this.profileForm=this.fb.group({firstName:[""],lastName:[""],companyName:[""],companySector:[""],bio:[""],linkedinUrl:[""],websiteUrl:[""]})}ngOnInit(){this.loadUserProfile()}loadUserProfile(){this.authService.getCurrentUser().subscribe({next:n=>{this.user=n,this.profileForm.patchValue(n)},error:n=>{console.error("Erreur lors du chargement du profil:",n)}})}onSubmit(){this.profileForm.valid&&this.profileForm.dirty&&console.log("Profile update:",this.profileForm.value)}static{this.\u0275fac=function(i){return new(i||t)(c(y),c(b))}}static{this.\u0275cmp=v({type:t,selectors:[["app-profile"]],standalone:!0,features:[_],decls:1,vars:1,consts:[["class","profile-container",4,"ngIf"],[1,"profile-container"],[1,"profile-info"]],template:function(i,e){i&1&&p(0,Ee,16,10,"div",0),i&2&&s("ngIf",e.user)},dependencies:[S,C,ee,E],styles:[".profile-container[_ngcontent-%COMP%]{max-width:600px;margin:2rem auto;padding:2rem;border:1px solid #ccc;border-radius:4px}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-top:.25rem}textarea[_ngcontent-%COMP%]{resize:vertical}"]})}}return t})();var oe=(()=>{class t{constructor(n,i){this.router=n,this.authService=i}ngOnInit(){this.handleCallback()}handleCallback(){try{let i=new URLSearchParams(window.location.search).get("token");if(i){localStorage.clear(),localStorage.setItem("token",i);let e=this.parseJwt(i),u={id:e.userId,username:e.username,mail:e.email,role:e.role||V.MEMBER,isAdmin:e.role===V.ADMIN,credential_id:e.credential_id,active:!0,created:new Date,updated:new Date};localStorage.setItem("currentUser",JSON.stringify(u)),this.authService.updateCurrentUser(u),u.role===V.ADMIN?this.router.navigate(["/admin/dashboard"]):this.router.navigate(["/dashboard"])}else this.router.navigate(["/auth/login"])}catch(n){console.error("Erreur lors de la connexion Google:",n),this.router.navigate(["/auth/login"])}}parseJwt(n){try{let e=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(e))}catch{return{}}}static{this.\u0275fac=function(i){return new(i||t)(c(k),c(b))}}static{this.\u0275cmp=v({type:t,selectors:[["app-google-callback"]],standalone:!0,features:[_],decls:5,vars:0,consts:[[1,"flex","items-center","justify-center","min-h-screen"],[1,"text-center"],[1,"text-xl","font-semibold","mb-4"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-gray-900","mx-auto"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),a(3,"Connexion en cours..."),r(),m(4,"div",3),r()())},encapsulation:2})}}return t})();function we(t,d){t&1&&(o(0,"div",13),a(1," Un email valide est requis. "),r())}function Fe(t,d){if(t&1&&(o(0,"div",14),a(1),r()),t&2){let n=h();l(),J(n.message)}}function Me(t,d){if(t&1&&(o(0,"div",15),a(1),r()),t&2){let n=h();l(),J(n.error)}}var ae=(()=>{class t{constructor(n,i,e){this.fb=n,this.authService=i,this.notificationService=e,this.isLoading=!1,this.message="",this.error="",this.forgotForm=this.fb.group({email:["",[g.required,g.email]]})}get email(){return this.forgotForm.get("email")}onSubmit(){this.message="",this.error="",this.forgotForm.valid&&(this.isLoading=!0,this.authService.forgotPassword(this.forgotForm.value.email).subscribe({next:()=>{this.isLoading=!1,this.message="Un email de r\xE9initialisation a \xE9t\xE9 envoy\xE9 si l'adresse existe.",this.notificationService.success(this.message)},error:()=>{this.isLoading=!1,this.error="Erreur lors de l'envoi. Veuillez r\xE9essayer.",this.notificationService.error(this.error)}}))}static{this.\u0275fac=function(i){return new(i||t)(c(y),c(b),c(A))}}static{this.\u0275cmp=v({type:t,selectors:[["app-forgot-password"]],standalone:!0,features:[_],decls:17,vars:6,consts:[[1,"flex","items-center","justify-center","min-h-screen","bg-gray-100"],[1,"w-full","max-w-md","p-8","bg-white","rounded-lg","shadow-lg"],[1,"text-2xl","font-bold","text-center","mb-6"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","email",1,"block","mb-2","text-gray-700"],["id","email","type","email","formControlName","email","placeholder","Entrez votre email",1,"form-control","w-full","px-4","py-2","border","rounded","focus:outline-none","focus:ring-2","focus:ring-blue-400"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-full","py-2",3,"disabled"],["class","mt-4 text-green-600 text-center",4,"ngIf"],["class","mt-4 text-red-600 text-center",4,"ngIf"],[1,"mt-6","text-center"],["routerLink","/auth/login",1,"text-blue-500","hover:underline"],[1,"text-red-500","text-sm","mt-1"],[1,"mt-4","text-green-600","text-center"],[1,"mt-4","text-red-600","text-center"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),a(3,"Mot de passe oubli\xE9"),r(),o(4,"form",3),x("ngSubmit",function(){return e.onSubmit()}),o(5,"div",4)(6,"label",5),a(7,"Adresse email"),r(),m(8,"input",6),p(9,we,2,0,"div",7),r(),o(10,"button",8),a(11),r(),p(12,Fe,2,1,"div",9)(13,Me,2,1,"div",10),r(),o(14,"div",11)(15,"a",12),a(16,"Retour \xE0 la connexion"),r()()()()),i&2&&(l(4),s("formGroup",e.forgotForm),l(5),s("ngIf",(e.email==null?null:e.email.invalid)&&((e.email==null?null:e.email.dirty)||(e.email==null?null:e.email.touched))),l(),s("disabled",e.forgotForm.invalid||e.isLoading),l(),f(" ",e.isLoading?"Envoi...":"Envoyer le lien de r\xE9initialisation"," "),l(),s("ngIf",e.message),l(),s("ngIf",e.error))},dependencies:[E,G,R,T,D,U,j,O,L,S,C],encapsulation:2})}}return t})();var et=[{path:"login",component:ie},{path:"register",component:re},{path:"profile",component:ne},{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:B},{path:"google/callback",component:oe},{path:"forgot-password",component:ae}];export{et as AUTH_ROUTES};
