import{a as Ge}from"./chunk-J7ZB6YVA.js";import{a as $e,b as L,c as g,d as U,e as K,g as qe,h as Q,i as ge,j as J,k as X,l as fe,m as be,n as ve,o as Be,s as Z,t as _e,u as ee}from"./chunk-DPXVNYAO.js";import{a as W,c as Re}from"./chunk-OJ7TKYNI.js";import{a as T}from"./chunk-FFOOKV3M.js";import{a as ae,b as Y,c as z}from"./chunk-IZAJE6XU.js";import{a as oe}from"./chunk-PRKGXYQV.js";import{$a as je,Ba as o,C as $,Ca as v,Da as x,Ea as pe,G as le,Ga as Ne,Ha as De,Ia as Te,J as Me,Ka as E,M as P,Ma as j,Oa as B,Qa as G,S as M,T as O,a as Ce,aa as Oe,ab as A,b as we,ba as m,bb as k,ca as p,db as H,g as Ie,gb as S,h as q,i as ke,ia as u,ib as ze,ka as s,la as b,ma as Ae,n as re,pa as r,pb as Le,qa as t,qb as ue,ra as l,rb as Ue,sa as ce,sb as N,ta as de,tb as D,u as Fe,ua as I,ub as Ve,va as h,wa as f,wb as y,y as xe}from"./chunk-OJEA5YKO.js";var te=(()=>{class a{constructor(){this.refreshSubject=new q,this.refresh$=this.refreshSubject.asObservable()}triggerRefresh(){this.refreshSubject.next()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=le({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var ne=(()=>{class a{constructor(e,i){this.http=e,this.memberRefreshService=i,this.apiUrl=`${oe.apiUrl}/users`,this.membersSubject=new ke([]),this.members$=this.membersSubject.asObservable()}getAllMembers(){return this.http.get(this.apiUrl)}getMemberById(e){return this.http.get(`${this.apiUrl}/${e}`).pipe(re(i=>{let n=i.data;return{id:n.id,firstName:n.prenom,lastName:n.nom,email:n.email,company:n.entreprise,position:n.position||"",bio:n.bio||"",linkedinUrl:n.linkedin,website:n.website||"",isActive:n.isActive,profileImage:n.photo||"",joinDate:n.created_at,createdAt:n.created_at,updatedAt:n.updated_at,role:n.type_user,phone:n.telephone||"",address:n.address||"",city:n.city||"",country:n.country||"",username:n.username||""}}))}getMemberByEmail(e){return this.http.get(`${this.apiUrl}?email=${e}`).pipe(re(i=>i.length>0?W(i[0]):void 0))}getActiveMembers(){return this.http.get(`${this.apiUrl}?active=true`).pipe(re(e=>{let i=[];return Array.isArray(e)?i=e:Array.isArray(e?.data)&&(i=e.data),i.map(n=>we(Ce({},W(n)),{photo:n.photo||n.profileImage||""}))}))}searchMembers(e){return this.http.get(`${this.apiUrl}/search?q=${e}`).pipe(re(i=>i.map(n=>W(n))))}updateMember(e,i){let n=Ce({},i);return n.company&&(n.entreprise=n.company,delete n.company),n.phone&&(n.telephone=n.phone,delete n.phone),this.http.put(`${this.apiUrl}/${e}`,n)}deleteMember(e){return this.http.delete(`${this.apiUrl}/${e}`)}restoreMember(e){return this.http.patch(`${oe.apiUrl}/security/restore/${e}`,{})}getCurrentMember(){return this.http.get(`${this.apiUrl}/me`)}convertMemberToUserData(e){let i={email:"mail",profileImage:"profilePicture",website:"websiteUrl",isActive:"active"},n={};return Object.entries(e).forEach(([d,_])=>{let w=i[d]||d;w&&(n[w]=_)}),n}getAllMembersAdmin(){return this.http.get(`${this.apiUrl}/all`)}static{this.\u0275fac=function(i){return new(i||a)(Me(ze),Me(te))}}static{this.\u0275prov=le({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function Ze(a,c){a&1&&(r(0,"div",22),l(1,"i",23),r(2,"span"),o(3,"Chargement des membres..."),t()())}function et(a,c){if(a&1){let e=I();r(0,"div",24)(1,"span"),o(2),t(),r(3,"button",25),h("click",function(){M(e);let n=f();return O(n.retry())}),l(4,"i",26),o(5," R\xE9essayer "),t()()}if(a&2){let e=f();m(2),v(e.error.members)}}function tt(a,c){if(a&1){let e=I();r(0,"div",29)(1,"img",30),h("error",function(n){M(e);let d=f(2);return O(d.handleImageError(n))}),t(),r(2,"div",31)(3,"h3"),o(4),t(),r(5,"p",32),o(6),t(),r(7,"p",33),o(8),t(),r(9,"p",34)(10,"strong"),o(11,"GSM :"),t(),o(12),t(),r(13,"p",35),o(14),B(15,"date"),t(),r(16,"div",36),o(17),t()()()}if(a&2){let e=c.$implicit,i=f(2);m(),s("src",i.getProfileImageUrl(e.photo),Oe)("alt",e.firstName),m(3),v(e.firstName),m(2),v(e.email),m(2),v(e.company||"Non sp\xE9cifi\xE9"),m(4),x(" ",e.phone||"Non renseign\xE9",""),m(2),x("Inscrit le ",G(15,10,e.joinDate,"dd/MM/yyyy"),""),m(2),b("active",e.isActive),m(),x(" ",e.isActive?"Actif":"Inactif"," ")}}function nt(a,c){a&1&&(r(0,"div",37),o(1," Aucun membre inscrit "),t())}function it(a,c){if(a&1&&(ce(0),u(1,tt,18,13,"div",27)(2,nt,2,0,"div",28),de()),a&2){let e=f();m(),s("ngForOf",e.members),m(),s("ngIf",e.members.length===0)}}var He=(()=>{class a{constructor(e,i,n,d,_,w){this.authService=e,this.memberService=i,this.eventService=n,this.imageService=d,this.router=_,this.memberRefreshService=w,this.loading={members:!1,events:!1},this.error={members:null,events:null},this.members=[],this.events=[],this.currentUser=null,this.destroy$=new q,this.BACKEND_URL=oe.apiUrl.replace(/\/api$/,""),this.authService.currentUser$.pipe($(this.destroy$)).subscribe(F=>{F&&(this.currentUser=F)})}ngOnInit(){this.loadInitialData(),this.memberRefreshService.refresh$.pipe($(this.destroy$)).subscribe(()=>{this.loadMembers()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadInitialData(){this.loadMembers(),this.loadEvents()}loadMembers(){this.loading.members=!0,this.error.members=null,this.memberService.getActiveMembers().pipe($(this.destroy$),xe(()=>this.loading.members=!1)).subscribe({next:e=>{this.members=e},error:e=>{this.error.members="Impossible de charger les membres. Veuillez r\xE9essayer."}})}loadEvents(){this.loading.events=!0,this.error.events=null,this.eventService.getUpcomingEvents().pipe($(this.destroy$),xe(()=>this.loading.events=!1)).subscribe({next:e=>{this.events=e},error:e=>{this.error.events="Impossible de charger les \xE9v\xE9nements. Veuillez r\xE9essayer."}})}retry(){this.loadInitialData()}logout(){this.authService.logout()}getProfileImageUrl(e){return e?`${this.BACKEND_URL}/members/${e}?t=${Date.now()}`:`${this.BACKEND_URL}/members/default.jpg`}handleImageError(e){e.target.src="assets/default.jpg"}static{this.\u0275fac=function(i){return new(i||a)(p(Re),p(ne),p(z),p(Ge),p(N),p(te))}}static{this.\u0275cmp=P({type:a,selectors:[["app-admin-dashboard"]],standalone:!0,features:[E],decls:37,vars:8,consts:[[1,"min-h-screen"],[1,"admin-dashboard-header"],[1,"admin-profile"],[1,"admin-avatar",3,"src","alt"],[1,"admin-info"],[1,"admin-email"],[1,"admin-badge"],["title","D\xE9connexion",1,"logout-btn",3,"click"],[1,"fas","fa-arrow-right-from-bracket"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon"],[1,"fas","fa-users"],[1,"stat-info"],[1,"stat-label"],[1,"stat-value"],[1,"fas","fa-calendar"],[1,"members-section"],[1,"members-grid"],["class","loading-indicator",4,"ngIf"],["class","error-message",4,"ngIf"],[4,"ngIf"],[1,"loading-indicator"],[1,"fas","fa-spinner"],[1,"error-message"],[1,"retry-btn",3,"click"],[1,"fas","fa-sync"],["class","member-card",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],[1,"member-card"],[1,"member-avatar",3,"error","src","alt"],[1,"member-info"],[1,"member-email"],[1,"member-company"],[1,"member-gsm"],[1,"member-date"],[1,"member-status"],[1,"no-data"]],template:function(i,n){i&1&&(r(0,"div",0)(1,"header",1)(2,"h1"),o(3,"Administration"),t(),r(4,"div",2),l(5,"img",3),r(6,"div",4)(7,"div",5),o(8),t(),r(9,"span",6),o(10,"Administrateur"),t()(),r(11,"button",7),h("click",function(){return n.logout()}),l(12,"i",8),t()()(),r(13,"div",9)(14,"div",10)(15,"div",11),l(16,"i",12),t(),r(17,"div",13)(18,"div",14),o(19,"Membres Actifs"),t(),r(20,"div",15),o(21),t()()(),r(22,"div",10)(23,"div",11),l(24,"i",16),t(),r(25,"div",13)(26,"div",14),o(27,"\xC9v\xE9nements \xE0 venir"),t(),r(28,"div",15),o(29),t()()()(),r(30,"section",17)(31,"h2"),o(32,"Derniers Membres"),t(),r(33,"div",18),u(34,Ze,4,0,"div",19)(35,et,6,1,"div",20)(36,it,3,2,"ng-container",21),t()()()),i&2&&(m(5),s("src",n.getProfileImageUrl(n.currentUser==null?null:n.currentUser.photo),Oe)("alt",(n.currentUser==null?null:n.currentUser.firstName)||"Profile"),m(3),v(n.currentUser==null?null:n.currentUser.mail),m(13),v(n.loading.members?"...":n.members.length),m(8),v(n.loading.events?"...":n.events.length),m(5),s("ngIf",n.loading.members),m(),s("ngIf",n.error.members),m(),s("ngIf",!n.loading.members&&!n.error.members))},dependencies:[S,A,k,H,y],styles:['@charset "UTF-8";.min-h-screen[_ngcontent-%COMP%]{min-height:100vh;padding:1rem;background-color:#f3f4f6}@media (min-width: 769px){.min-h-screen[_ngcontent-%COMP%]{padding:2rem}}.admin-dashboard-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem;padding:1rem;background-color:#fff;border-radius:.5rem;box-shadow:0 1px 2px #0000000d}@media (min-width: 641px) and (max-width: 768px){.admin-dashboard-header[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:center}}.admin-dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1f2937}@media (min-width: 769px){.admin-dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.875rem}}.admin-dashboard-header[_ngcontent-%COMP%]   .admin-profile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.admin-dashboard-header[_ngcontent-%COMP%]   .admin-profile[_ngcontent-%COMP%]   .admin-avatar[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;object-fit:cover;border:2px solid #e5e7eb;box-shadow:0 1px 2px #0000001a}@media (min-width: 769px){.admin-dashboard-header[_ngcontent-%COMP%]   .admin-profile[_ngcontent-%COMP%]   .admin-avatar[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem}}.admin-dashboard-header[_ngcontent-%COMP%]   .admin-profile[_ngcontent-%COMP%]   .admin-info[_ngcontent-%COMP%]{flex:1}.admin-dashboard-header[_ngcontent-%COMP%]   .admin-profile[_ngcontent-%COMP%]   .admin-info[_ngcontent-%COMP%]   .admin-name[_ngcontent-%COMP%]{font-weight:500;color:#1f2937;margin-bottom:.25rem}.admin-dashboard-header[_ngcontent-%COMP%]   .admin-profile[_ngcontent-%COMP%]   .admin-info[_ngcontent-%COMP%]   .admin-email[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.admin-dashboard-header[_ngcontent-%COMP%]   .admin-profile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#ef4444;color:#fff;border-radius:.375rem;font-size:.875rem;transition:background-color .2s}.admin-dashboard-header[_ngcontent-%COMP%]   .admin-profile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#dc2626}.admin-dashboard-header[_ngcontent-%COMP%]   .admin-profile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1rem;margin-bottom:2rem}@media (min-width: 641px) and (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;padding:1rem;box-shadow:0 1px 2px #0000000d;display:flex;align-items:center;gap:1rem}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;display:flex;align-items:center;justify-content:center;background-color:#f3f4f6}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;color:#3b82f6}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{flex:1}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin-bottom:.25rem}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1f2937}.members-section[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;box-shadow:0 1px 2px #0000000d;padding:1.5rem}.members-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1f2937;margin-bottom:1.5rem}.members-section[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(280px,1fr))}@media (max-width: 640px){.members-section[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.members-section[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%], .members-section[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{grid-column:1/-1;text-align:center;padding:2rem;background-color:#f9fafb;border-radius:.5rem}.members-section[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;color:#6b7280}.members-section[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#3b82f6;animation:_ngcontent-%COMP%_spin 1s linear infinite}.members-section[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;display:flex;flex-direction:column;align-items:center;gap:1rem}.members-section[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]{background-color:#fee2e2;color:#dc2626;padding:.5rem 1rem;border-radius:.375rem;font-size:.875rem;transition:background-color .2s}.members-section[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:hover{background-color:#fecaca}.members-section[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.members-section[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e5e7eb;border-radius:.5rem;padding:1rem;transition:transform .2s,box-shadow .2s}.members-section[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 6px -1px #0000001a}.members-section[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;object-fit:cover;border:2px solid #e5e7eb;box-shadow:0 1px 2px #0000001a;margin-bottom:1rem}@media (min-width: 769px){.members-section[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem}}.members-section[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;margin-bottom:.25rem}.members-section[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin-bottom:.5rem}.members-section[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-company[_ngcontent-%COMP%]{font-size:.875rem;color:#4b5563;margin-bottom:.25rem}.members-section[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-date[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af;margin-bottom:.5rem}.members-section[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-status[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;border-radius:9999px;font-size:.75rem;background-color:#f3f4f6;color:#6b7280}.members-section[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-status.active[_ngcontent-%COMP%]{background-color:#dcfce7;color:#15803d}.members-section[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{text-align:center;color:#6b7280;font-size:.875rem;padding:2rem;background-color:#f9fafb;border-radius:.5rem;grid-column:1/-1}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.events-section[_ngcontent-%COMP%]{margin-bottom:3rem}.events-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;color:#444;margin-bottom:1.5rem}.members-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem}.member-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 4px #0000001a;display:flex;gap:1rem;transition:transform .2s ease}.member-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.member-card[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;object-fit:cover;border:2px solid #e5e7eb;box-shadow:0 1px 2px #0000001a}.member-card[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.2rem;color:#333}.member-card[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0;color:#666;font-size:.9rem}.admin-badge[_ngcontent-%COMP%]{display:inline-block;background-color:#4caf50;color:#fff;font-size:.85rem;font-weight:500;padding:.25rem .75rem;border-radius:16px;margin-top:.25rem;margin-bottom:.5rem}.logout-btn[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff!important;border:none;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s ease;margin-left:auto}.logout-btn[_ngcontent-%COMP%]:hover{background-color:#45a049!important}.logout-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}',`.dashboard-section[_ngcontent-%COMP%] {
  background: white;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.section-title[_ngcontent-%COMP%] {
  font-size: 1.25rem;
  font-weight: 600;
  margin-bottom: 1rem;
  color: #2d3748;
}

.members-list[_ngcontent-%COMP%] {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.member-item[_ngcontent-%COMP%] {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px;
  background: #f8f9fa;
  border-radius: 8px;
  transition: background-color 0.2s;
}

.member-item[_ngcontent-%COMP%]:hover {
  background: #f1f3f5;
}

.member-content[_ngcontent-%COMP%] {
  display: flex;
  align-items: center;
  gap: 12px;
}

.member-avatar[_ngcontent-%COMP%] {
  flex-shrink: 0;
}

.avatar-image[_ngcontent-%COMP%] {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid white;
  box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

.member-info[_ngcontent-%COMP%] {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.member-name[_ngcontent-%COMP%] {
  font-weight: 600;
  color: #2d3748;
}

.member-email[_ngcontent-%COMP%] {
  font-size: 0.875rem;
  color: #4a5568;
}

.member-date[_ngcontent-%COMP%] {
  font-size: 0.75rem;
  color: #718096;
}

.member-status[_ngcontent-%COMP%] {
  font-weight: 500;
  font-size: 0.875rem;
  padding: 4px 12px;
  border-radius: 16px;
  background: #e2e8f0;
  color: #4a5568;
}

.member-status.active[_ngcontent-%COMP%] {
  background: #c6f6d5;
  color: #2f855a;
}

@media (max-width: 640px) {
  .dashboard-section[_ngcontent-%COMP%] {
    padding: 16px;
  }

  .member-item[_ngcontent-%COMP%] {
    padding: 8px;
  }

  .avatar-image[_ngcontent-%COMP%] {
    width: 40px;
    height: 40px;
  }

  .member-info[_ngcontent-%COMP%] {
    font-size: 0.875rem;
  }

  .member-date[_ngcontent-%COMP%] {
    font-size: 0.75rem;
  }
}`]})}}return a})();function rt(a,c){a&1&&(r(0,"div",44),o(1," Le titre est requis "),t())}function ot(a,c){a&1&&(r(0,"div",44),o(1," La description est requise "),t())}function at(a,c){a&1&&(r(0,"div",44),o(1," La date est requise "),t())}function mt(a,c){a&1&&(r(0,"div",44),o(1," Le lieu est requis "),t())}function st(a,c){a&1&&(r(0,"div",44),o(1," Le prix doit \xEAtre sup\xE9rieur ou \xE9gal \xE0 0 "),t())}function lt(a,c){a&1&&(r(0,"div",44),o(1," Le nombre de participants doit \xEAtre sup\xE9rieur \xE0 0 "),t())}function ct(a,c){if(a&1&&(r(0,"option",45),o(1),t()),a&2){let e=c.$implicit;s("value",e),m(),v(e)}}function dt(a,c){a&1&&(r(0,"div",44),o(1," Le type d'\xE9v\xE9nement est requis "),t())}var We=(()=>{class a{constructor(e,i,n,d){this.fb=e,this.eventService=i,this.router=n,this.notificationService=d,this.eventTypes=Object.values(ae),this.isSubmitting=!1,this.existingEvents=[],this.eventForm=this.fb.group({title:["",[g.required,g.minLength(3)]],description:["",[g.required,g.minLength(10)]],date:["",g.required],location:["",g.required],price:[0,[g.required,g.min(0)]],max_participants:[0,[g.required,g.min(1)]],type_event:["",g.required],status:[Y.UPCOMING]})}ngOnInit(){this.eventService.getAllEvents().subscribe(e=>{this.existingEvents=e})}isFieldInvalid(e){let i=this.eventForm.get(e);return i?i.invalid&&(i.dirty||i.touched):!1}getFormattedDay(){let e=this.eventForm.get("date")?.value;return e?new Date(e).getDate().toString().padStart(2,"0"):"--"}getFormattedMonth(){let e=this.eventForm.get("date")?.value;return e?new Date(e).toLocaleString("fr-FR",{month:"short"}):"--"}getFormattedYear(){let e=this.eventForm.get("date")?.value;return e?new Date(e).getFullYear().toString():"--"}getFormattedTime(){let e=this.eventForm.get("date")?.value;return e?new Date(e).toLocaleString("fr-FR",{hour:"2-digit",minute:"2-digit"}):"--:--"}isDuplicateEvent(){let e=this.eventForm.value;return this.existingEvents.some(i=>new Date(i.date).toISOString()===new Date(e.date).toISOString()&&i.location.trim().toLowerCase()===e.location.trim().toLowerCase())}onSubmit(){if(this.isDuplicateEvent()){this.notificationService.error("Un \xE9v\xE9nement similaire existe d\xE9j\xE0 \xE0 cette date et ce lieu",15e3),console.log("Duplicate event detected: ",this.eventForm.value);return}if(this.eventForm.valid&&!this.isSubmitting){this.isSubmitting=!0;let e=this.eventForm.value,i={title:e.title.trim(),description:e.description.trim(),date:new Date(e.date).toISOString(),location:e.location.trim(),price:Number(e.price),max_participants:Number(e.max_participants),type_event:e.type_event,status:e.status};console.log("Submitting event:",i),this.eventService.createEvent(i).subscribe({next:n=>{this.notificationService.success("\xC9v\xE9nement cr\xE9\xE9 avec succ\xE8s"),this.notificationService.success("Email envoy\xE9 aux membres"),console.log("Event created successfully:",n),this.router.navigate(["/admin/events"])},error:n=>{this.notificationService.error(n.message||"Une erreur est survenue lors de la cr\xE9ation de l'\xE9v\xE9nement"),this.isSubmitting=!1},complete:()=>{this.isSubmitting=!1}})}else Object.keys(this.eventForm.controls).forEach(e=>{let i=this.eventForm.get(e);i&&i.markAsTouched()})}onCancel(){confirm("\xCAtes-vous s\xFBr de vouloir annuler la cr\xE9ation de l'\xE9v\xE9nement ?")&&this.router.navigate(["/admin/events"])}fillTestData(){let e=new Date;e.setDate(e.getDate()+7),e.setHours(10,0,0,0),this.eventForm.patchValue({title:"Workshop Business Networking TEST1212",description:"Un workshop pour d\xE9velopper son r\xE9seau professionnel et d\xE9couvrir de nouvelles opportunit\xE9s de business.",date:e.toISOString().slice(0,16),location:"Business Center Brussels",price:45,max_participants:20,type_event:ae.WORKSHOP,status:Y.UPCOMING})}static{this.\u0275fac=function(i){return new(i||a)(p(Z),p(z),p(N),p(T))}}static{this.\u0275cmp=P({type:a,selectors:[["app-event-create"]],standalone:!0,features:[E],decls:96,vars:33,consts:[[1,"create-event-container"],[1,"form-header"],["routerLink","/admin/events",1,"back-link"],[1,"event-preview"],[1,"event-card"],[1,"event-date"],[1,"date-box"],[1,"day"],[1,"month"],[1,"year"],[1,"time"],[1,"event-details"],[1,"description"],[1,"event-info"],[1,"location"],[1,"price"],[1,"participants"],[1,"event-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"form-row"],[1,"form-group"],["for","title"],["id","title","type","text","formControlName","title","placeholder","Ex: Workshop Business Networking"],["class","error-message",4,"ngIf"],["for","description"],["id","description","formControlName","description","placeholder","D\xE9crivez votre \xE9v\xE9nement en d\xE9tail...","rows","5"],[1,"form-row","two-columns"],["for","date"],["id","date","type","datetime-local","formControlName","date"],["for","location"],["id","location","type","text","formControlName","location","placeholder","Ex: Business Center Brussels"],["for","price"],["id","price","type","number","formControlName","price","min","0","placeholder","0"],["for","max_participants"],["id","max_participants","type","number","formControlName","max_participants","min","1","placeholder","10"],["for","type_event"],["id","type_event","formControlName","type_event"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-actions"],["type","button","title","Remplir avec des donn\xE9es de test",1,"btn-test",3,"click"],[1,"main-buttons"],["type","button",1,"btn-cancel",3,"click"],["type","submit",1,"btn-submit",3,"disabled"],[1,"error-message"],[3,"value"]],template:function(i,n){if(i&1&&(r(0,"div",0)(1,"div",1)(2,"h2"),o(3,"Cr\xE9er un nouvel \xE9v\xE9nement"),t(),r(4,"a",2),o(5,"\u2190 Retour"),t()(),r(6,"div",3)(7,"h3"),o(8,"Aper\xE7u de l'\xE9v\xE9nement"),t(),r(9,"div",4)(10,"div",5)(11,"div",6)(12,"span",7),o(13),t(),r(14,"span",8),o(15),t(),r(16,"span",9),o(17),t()(),r(18,"div",10),o(19),t()(),r(20,"div",11)(21,"h4"),o(22),t(),r(23,"p",12),o(24),t(),r(25,"div",13)(26,"span",14),o(27),t(),r(28,"span",15),o(29),t(),r(30,"span",16),o(31),t()()()()(),r(32,"form",17),h("ngSubmit",function(){return n.onSubmit()}),r(33,"div",18)(34,"h3"),o(35,"Informations g\xE9n\xE9rales"),t(),r(36,"div",19)(37,"div",20)(38,"label",21),o(39,"Titre de l'\xE9v\xE9nement *"),t(),l(40,"input",22),u(41,rt,2,0,"div",23),t()(),r(42,"div",19)(43,"div",20)(44,"label",24),o(45,"Description d\xE9taill\xE9e *"),t(),l(46,"textarea",25),u(47,ot,2,0,"div",23),t()()(),r(48,"div",18)(49,"h3"),o(50,"Date et lieu"),t(),r(51,"div",26)(52,"div",20)(53,"label",27),o(54,"Date et heure *"),t(),l(55,"input",28),u(56,at,2,0,"div",23),t(),r(57,"div",20)(58,"label",29),o(59,"Lieu *"),t(),l(60,"input",30),u(61,mt,2,0,"div",23),t()()(),r(62,"div",18)(63,"h3"),o(64,"Capacit\xE9 et tarification"),t(),r(65,"div",26)(66,"div",20)(67,"label",31),o(68,"Prix (\u20AC) *"),t(),l(69,"input",32),u(70,st,2,0,"div",23),t(),r(71,"div",20)(72,"label",33),o(73,"Nombre maximum de participants *"),t(),l(74,"input",34),u(75,lt,2,0,"div",23),t()()(),r(76,"div",18)(77,"h3"),o(78,"Type d'\xE9v\xE9nement"),t(),r(79,"div",19)(80,"div",20)(81,"label",35),o(82,"Type *"),t(),r(83,"select",36)(84,"option",37),o(85,"S\xE9lectionnez un type"),t(),u(86,ct,2,2,"option",38),t(),u(87,dt,2,0,"div",23),t()()(),r(88,"div",39)(89,"button",40),h("click",function(){return n.fillTestData()}),o(90," Donn\xE9es test "),t(),r(91,"div",41)(92,"button",42),h("click",function(){return n.onCancel()}),o(93,"Annuler"),t(),r(94,"button",43),o(95," Cr\xE9er l'\xE9v\xE9nement "),t()()()()()),i&2){let d,_,w,F,R;m(13),v(n.getFormattedDay()),m(2),v(n.getFormattedMonth()),m(2),v(n.getFormattedYear()),m(2),v(n.getFormattedTime()),m(3),v((d=n.eventForm.get("title"))==null?null:d.value),m(2),v((_=n.eventForm.get("description"))==null?null:_.value),m(3),x("\u{1F4CD} ",(w=n.eventForm.get("location"))==null?null:w.value,""),m(2),x("\u{1F4B6} ",(F=n.eventForm.get("price"))==null?null:F.value,"\u20AC"),m(2),x("\u{1F465} ",(R=n.eventForm.get("max_participants"))==null?null:R.value," participants max"),m(),s("formGroup",n.eventForm),m(8),b("error",n.isFieldInvalid("title")),m(),s("ngIf",n.isFieldInvalid("title")),m(5),b("error",n.isFieldInvalid("description")),m(),s("ngIf",n.isFieldInvalid("description")),m(8),b("error",n.isFieldInvalid("date")),m(),s("ngIf",n.isFieldInvalid("date")),m(4),b("error",n.isFieldInvalid("location")),m(),s("ngIf",n.isFieldInvalid("location")),m(8),b("error",n.isFieldInvalid("price")),m(),s("ngIf",n.isFieldInvalid("price")),m(4),b("error",n.isFieldInvalid("max_participants")),m(),s("ngIf",n.isFieldInvalid("max_participants")),m(8),b("error",n.isFieldInvalid("type_event")),m(3),s("ngForOf",n.eventTypes),m(),s("ngIf",n.isFieldInvalid("type_event")),m(7),s("disabled",!n.eventForm.valid||n.isSubmitting)}},dependencies:[S,A,k,ee,Q,be,ve,L,ge,fe,U,K,Be,J,X,y,D],styles:[".create-event-container[_ngcontent-%COMP%]{max-width:1000px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a}.form-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid #e0e0e0}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#2c3e50;font-size:1.8rem}.back-link[_ngcontent-%COMP%]{text-decoration:none;color:#666;font-weight:500;transition:color .2s}.back-link[_ngcontent-%COMP%]:hover{color:#333}.event-preview[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1rem;background:#f8f9fa;border-radius:8px}.event-preview[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#2c3e50}.event-card[_ngcontent-%COMP%]{display:flex;gap:1.5rem;background:#fff;padding:1rem;border-radius:8px;box-shadow:0 2px 4px #0000000d}.event-date[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.date-box[_ngcontent-%COMP%]{background:#007bff;color:#fff;padding:.5rem;border-radius:6px;text-align:center;min-width:80px}.day[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;display:block}.month[_ngcontent-%COMP%], .year[_ngcontent-%COMP%]{font-size:.9rem;display:block}.time[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.event-details[_ngcontent-%COMP%]{flex:1}.event-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#2c3e50}.event-details[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#666;margin-bottom:1rem}.event-info[_ngcontent-%COMP%]{display:flex;gap:1rem;color:#666;font-size:.9rem}.form-section[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1.5rem;background:#f8f9fa;border-radius:8px}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#2c3e50;font-size:1.2rem}.event-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-row[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.form-row.two-columns[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr}.form-group[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.5rem}label[_ngcontent-%COMP%]{font-weight:500;color:#2c3e50;font-size:.9rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:.75rem;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem;transition:all .2s;background:#fff}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 3px #007bff1a}textarea[_ngcontent-%COMP%]{min-height:120px;resize:vertical}.error[_ngcontent-%COMP%]{border-color:#dc3545!important}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.8rem;margin-top:.25rem}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:2rem;padding-top:1rem;border-top:1px solid #e0e0e0}.main-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem}button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:6px;font-weight:500;cursor:pointer;transition:all .2s;border:none}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-cancel[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-cancel[_ngcontent-%COMP%]:hover{background:#5a6268}.btn-submit[_ngcontent-%COMP%]{background:#007bff;color:#fff}.btn-submit[_ngcontent-%COMP%]:hover{background:#0056b3}button[_ngcontent-%COMP%]:disabled{background:#e9ecef;color:#adb5bd;cursor:not-allowed}@media (max-width: 768px){.create-event-container[_ngcontent-%COMP%]{margin:1rem;padding:1rem}.form-row.two-columns[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-actions[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.main-buttons[_ngcontent-%COMP%]{width:100%;flex-direction:column}button[_ngcontent-%COMP%]{width:100%}.event-card[_ngcontent-%COMP%]{flex-direction:column}}"]})}}return a})();var pt=a=>["edit",a];function ut(a,c){a&1&&(r(0,"div",8),l(1,"i",9),o(2," Chargement des \xE9v\xE9nements... "),t())}function gt(a,c){if(a&1){let e=I();r(0,"div",10),o(1),r(2,"button",11),h("click",function(){M(e);let n=f();return O(n.loadEvents())}),l(3,"i",12),o(4," R\xE9essayer "),t()()}if(a&2){let e=f();m(),x(" ",e.error," ")}}function ft(a,c){a&1&&(r(0,"span",30),o(1,"Annul\xE9"),t())}function bt(a,c){if(a&1){let e=I();r(0,"button",31),h("click",function(){M(e);let n=f().$implicit,d=f(2);return O(d.cancelEvent(n))}),o(1," Annuler "),t()}}function vt(a,c){if(a&1&&(r(0,"div",15)(1,"div",16)(2,"h3"),o(3),u(4,ft,2,0,"span",17),t(),r(5,"p",18),o(6),t(),r(7,"div",19)(8,"span",20),l(9,"i",21),o(10),B(11,"date"),t(),r(12,"span",22),l(13,"i",23),o(14),t(),r(15,"span",24),l(16,"i",25),o(17),t()()(),r(18,"div",26)(19,"button",27),l(20,"i",28),t(),u(21,bt,2,0,"button",29),t()()),a&2){let e=c.$implicit;b("cancelled",e.is_cancelled),m(3),x(" ",e.title," "),m(),s("ngIf",e.is_cancelled),m(2),v(e.description),m(4),x(" ",G(11,12,e.date,"dd/MM/yyyy HH:mm")," "),m(4),x(" ",e.location," "),m(3),pe(" ",e.participants_count||0,"/",e.max_participants," "),m(2),s("routerLink",j(15,pt,e.id))("disabled",e.is_cancelled),m(2),s("ngIf",!e.is_cancelled)}}function _t(a,c){a&1&&(r(0,"div",32),o(1," Aucun \xE9v\xE9nement trouv\xE9 "),t())}function ht(a,c){if(a&1&&(r(0,"div"),u(1,vt,22,17,"div",13)(2,_t,2,0,"div",14),t()),a&2){let e=f();m(),s("ngForOf",e.events),m(),s("ngIf",e.events.length===0)}}var Ye=(()=>{class a{constructor(e,i){this.eventService=e,this.notificationService=i,this.events=[],this.loading=!1,this.error="",this.subscription=new Ie}ngOnInit(){this.loadEvents()}ngOnDestroy(){this.subscription.unsubscribe()}loadEvents(){this.loading=!0,this.error="",this.subscription.add(this.eventService.getAllEvents().subscribe({next:e=>{this.events=e,this.loading=!1},error:e=>{console.error("Error loading events:",e),this.error="Erreur lors du chargement des \xE9v\xE9nements",this.loading=!1}}))}cancelEvent(e){if(!e.id){alert("Erreur : ID de l'\xE9v\xE9nement manquant !");return}if(e.participants_count&&e.participants_count>0){let i=`Cet \xE9v\xE9nement compte ${e.participants_count} participant(s).

Voulez-vous vraiment annuler cet \xE9v\xE9nement ?
Les participants seront notifi\xE9s et rembours\xE9s automatiquement.`;confirm(i)&&this.eventService.cancelEvent(e.id).subscribe({next:n=>{this.notificationService.success("\xC9v\xE9nement annul\xE9 avec succ\xE8s.",12e3),this.notificationService.success("Un email a \xE9t\xE9 envoy\xE9 \xE0 tous les participants.",12e3),console.log("Annulation :",n),this.loadEvents()},error:n=>{this.notificationService.error(n.message||"Erreur lors de l'annulation de l'\xE9v\xE9nement",12e3),console.error("Erreur annulation \xE9v\xE9nement :",n)}})}else confirm("Voulez-vous vraiment annuler cet \xE9v\xE9nement ?")&&this.eventService.cancelEvent(e.id).subscribe({next:i=>{this.notificationService.success("\xC9v\xE9nement annul\xE9 avec succ\xE8s.",12e3),console.log("Annulation :",i),this.loadEvents()},error:i=>{this.notificationService.error(i.message||"Erreur lors de l'annulation de l'\xE9v\xE9nement",12e3),console.error("Erreur annulation \xE9v\xE9nement :",i)}})}static{this.\u0275fac=function(i){return new(i||a)(p(z),p(T))}}static{this.\u0275cmp=P({type:a,selectors:[["app-admin-events"]],standalone:!0,features:[E],decls:11,vars:3,consts:[[1,"events-management"],[1,"header"],["routerLink","create",1,"add-btn"],[1,"fas","fa-plus"],[1,"events-list"],["class","loading-indicator",4,"ngIf"],["class","error-message",4,"ngIf"],[4,"ngIf"],[1,"loading-indicator"],[1,"fas","fa-spinner","fa-spin"],[1,"error-message"],[1,"retry-btn",3,"click"],[1,"fas","fa-sync"],["class","event-card",3,"cancelled",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],[1,"event-card"],[1,"event-info"],["class","badge-cancelled",4,"ngIf"],[1,"description"],[1,"event-meta"],[1,"date"],[1,"fas","fa-calendar"],[1,"location"],[1,"fas","fa-map-marker-alt"],[1,"participants"],[1,"fas","fa-users"],[1,"event-actions"],[1,"edit-btn",3,"routerLink","disabled"],[1,"fas","fa-edit"],["class","cancel-btn",3,"click",4,"ngIf"],[1,"badge-cancelled"],[1,"cancel-btn",3,"click"],[1,"no-data"]],template:function(i,n){i&1&&(r(0,"div",0)(1,"header",1)(2,"h1"),o(3,"Gestion des \xE9v\xE9nements"),t(),r(4,"button",2),l(5,"i",3),o(6," Nouvel \xE9v\xE9nement "),t()(),r(7,"div",4),u(8,ut,3,0,"div",5)(9,gt,5,1,"div",6)(10,ht,3,2,"div",7),t()()),i&2&&(m(8),s("ngIf",n.loading),m(),s("ngIf",n.error),m(),s("ngIf",!n.loading&&!n.error))},dependencies:[S,A,k,H,y,D,_e],styles:['@charset "UTF-8";.events-management[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.add-btn[_ngcontent-%COMP%]{background:#2ecc71;color:#fff;border:none;padding:10px 20px;border-radius:4px;cursor:pointer;display:flex;align-items:center;gap:8px}.add-btn[_ngcontent-%COMP%]:hover{background:#27ae60}.event-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:15px;margin-bottom:15px;box-shadow:0 2px 4px #0000001a;display:flex;justify-content:space-between;align-items:center}.event-info[_ngcontent-%COMP%]{flex:1}.event-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#2c3e50;font-size:18px}.description[_ngcontent-%COMP%]{color:#666;margin:8px 0;font-size:14px}.event-meta[_ngcontent-%COMP%]{display:flex;gap:20px;color:#666;font-size:14px}.event-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.event-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.edit-btn[_ngcontent-%COMP%], .delete-btn[_ngcontent-%COMP%]{border:none;padding:8px;border-radius:4px;cursor:pointer}.edit-btn[_ngcontent-%COMP%]{background:#3498db;color:#fff}.delete-btn[_ngcontent-%COMP%]{background:#e74c3c;color:#fff}.loading-indicator[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#666}.error-message[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#e74c3c;background:#fee;border-radius:4px;margin:10px 0}.retry-btn[_ngcontent-%COMP%]{background:none;border:1px solid #e74c3c;color:#e74c3c;padding:5px 10px;border-radius:4px;margin-left:10px;cursor:pointer}.event-card.cancelled[_ngcontent-%COMP%]{opacity:.6;background:#ffeaea;border:1px solid #d32f2f}.badge-cancelled[_ngcontent-%COMP%]{background:#d32f2f;color:#fff;border-radius:8px;padding:2px 8px;font-size:.8em;margin-left:10px}.cancel-btn[_ngcontent-%COMP%]{background:#d32f2f;color:#fff;border:none;padding:8px 16px;border-radius:4px;margin-left:8px;cursor:pointer}.badge[_ngcontent-%COMP%]{display:inline-block;padding:2px 8px;border-radius:8px;font-size:.8em;margin-left:5px}.badge-success[_ngcontent-%COMP%]{background:#388e3c;color:#fff}.badge-primary[_ngcontent-%COMP%]{background:#1976d2;color:#fff}.badge-warning[_ngcontent-%COMP%]{background:#fbc02d;color:#333}']})}}return a})();function Ct(a,c){a&1&&(r(0,"div",6),l(1,"i",7),o(2," Chargement des donn\xE9es... "),t())}function xt(a,c){if(a&1&&(r(0,"option",35),o(1),t()),a&2){let e=c.$implicit;s("value",e),m(),x(" ",e," ")}}function Mt(a,c){if(a&1){let e=I();r(0,"form",8),h("ngSubmit",function(){M(e);let n=f();return O(n.onSubmit())}),r(1,"div",9)(2,"label",10),o(3,"Titre *"),t(),l(4,"input",11),t(),r(5,"div",9)(6,"label",12),o(7,"Description *"),t(),r(8,"textarea",13),o(9,"          "),t()(),r(10,"div",9)(11,"label",14),o(12,"Date *"),t(),l(13,"input",15),t(),r(14,"div",9)(15,"label",16),o(16,"Lieu *"),t(),l(17,"input",17),t(),r(18,"div",9)(19,"label",18),o(20,"Nombre maximum de participants *"),t(),l(21,"input",19),t(),r(22,"div",9)(23,"label",20),o(24,"Prix (\u20AC) *"),t(),l(25,"input",21),t(),r(26,"div",9)(27,"label",22),o(28,"Type d'\xE9v\xE9nement *"),t(),r(29,"select",23)(30,"option",24),o(31,"S\xE9lectionnez un type"),t(),u(32,xt,2,2,"option",25),t()(),r(33,"div",9)(34,"label",26),o(35,"Statut *"),t(),r(36,"select",27)(37,"option",28),o(38,"\xC0 venir"),t(),r(39,"option",29),o(40,"En cours"),t(),r(41,"option",30),o(42,"Termin\xE9"),t(),r(43,"option",31),o(44,"Annul\xE9"),t()()(),r(45,"div",32)(46,"button",33),o(47," Annuler "),t(),r(48,"button",34),o(49," Enregistrer les modifications "),t()()()}if(a&2){let e,i,n,d,_,w,F,R,C=f();s("formGroup",C.eventForm),m(4),b("error",((e=C.eventForm.get("title"))==null?null:e.invalid)&&((e=C.eventForm.get("title"))==null?null:e.touched)),m(4),b("error",((i=C.eventForm.get("description"))==null?null:i.invalid)&&((i=C.eventForm.get("description"))==null?null:i.touched)),m(5),b("error",((n=C.eventForm.get("date"))==null?null:n.invalid)&&((n=C.eventForm.get("date"))==null?null:n.touched)),s("min",C.minDateTime)("max",C.maxDateTime),m(4),b("error",((d=C.eventForm.get("location"))==null?null:d.invalid)&&((d=C.eventForm.get("location"))==null?null:d.touched)),m(4),b("error",((_=C.eventForm.get("max_participants"))==null?null:_.invalid)&&((_=C.eventForm.get("max_participants"))==null?null:_.touched)),m(4),b("error",((w=C.eventForm.get("price"))==null?null:w.invalid)&&((w=C.eventForm.get("price"))==null?null:w.touched)),m(4),b("error",((F=C.eventForm.get("type_event"))==null?null:F.invalid)&&((F=C.eventForm.get("type_event"))==null?null:F.touched)),m(3),s("ngForOf",C.eventTypes),m(4),b("error",((R=C.eventForm.get("status"))==null?null:R.invalid)&&((R=C.eventForm.get("status"))==null?null:R.touched)),m(12),s("disabled",C.eventForm.invalid||C.isSubmitting)}}var Ke=(()=>{class a{getMinDateTime(){let e=new Date;return e.setHours(8,0,0,0),e.toISOString().slice(0,16)}getMaxDateTime(){let e=new Date;return e.setFullYear(e.getFullYear()+2),e.setHours(18,0,0,0),e.toISOString().slice(0,16)}isBusinessHours(e){let n=new Date(e).getHours();return n>=8&&n<18}constructor(e,i,n,d,_){this.fb=e,this.eventService=i,this.route=n,this.router=d,this.notificationService=_,this.eventId="",this.eventTypes=Object.values(ae),this.loading=!0,this.isSubmitting=!1,this.event=null,this.minDateTime=this.getMinDateTime(),this.maxDateTime=this.getMaxDateTime(),this.eventForm=this.fb.group({title:["",[g.required,g.minLength(3)]],description:["",[g.required,g.minLength(10)]],date:["",g.required],location:["",g.required],price:[0,[g.required,g.min(0)]],max_participants:[0,[g.required,g.min(1)]],type_event:["",g.required],status:[Y.UPCOMING]})}ngOnInit(){this.route.params.subscribe(e=>{e.id?(this.eventId=e.id,this.loadEvent()):(console.error("No event ID provided"),alert("Aucun \xE9v\xE9nement sp\xE9cifi\xE9"),this.router.navigate(["/admin/events"]))})}loadEvent(){this.loading=!0,this.eventService.getEventById(this.eventId).subscribe({next:e=>{console.log("Event loaded:",e),e&&e.data?(this.event=e.data,this.updateForm(e.data)):(console.error("Event not found"),alert("\xC9v\xE9nement non trouv\xE9"),this.router.navigate(["/admin/events"])),this.loading=!1},error:e=>{console.error("Error loading event:",e),this.loading=!1,alert(e.message||"Erreur lors du chargement de l'\xE9v\xE9nement"),this.router.navigate(["/admin/events"])}})}updateForm(e){let i="";if(e.date){let n=new Date(e.date);isNaN(n.getTime())||(i=n.toISOString().slice(0,16))}this.eventForm.patchValue({title:e.title,description:e.description,date:i,location:e.location,price:e.price,max_participants:e.max_participants,type_event:e.type_event,status:e.status||Y.UPCOMING})}onSubmit(){let e=this.eventForm.value;if(!this.isBusinessHours(e.date)){alert("L'heure de l'\xE9v\xE9nement doit \xEAtre comprise entre 08:00 et 18:00.");return}if(this.eventForm.valid&&this.eventId&&!this.isSubmitting){this.isSubmitting=!0;let i={title:e.title.trim(),description:e.description.trim(),date:new Date(e.date).toISOString(),location:e.location.trim(),price:Number(e.price),max_participants:Number(e.max_participants),type_event:e.type_event};console.log("Updating event:",this.eventId,i),this.eventService.updateEvent(this.eventId,i).subscribe({next:n=>{if(n&&n.message&&n.message.includes("aucune modification")){this.notificationService.info("Aucune modification d\xE9tect\xE9e, aucun email envoy\xE9.",12e3),console.log("Aucune modification d\xE9tect\xE9e, aucun email envoy\xE9."),this.isSubmitting=!1;return}this.notificationService.success("\xC9v\xE9nement modifi\xE9 avec succ\xE8s.",12e3),this.notificationService.success("Email envoy\xE9 aux participants.",12e3),console.log("\xC9v\xE9nement modifi\xE9 et email envoy\xE9 aux participants."),this.router.navigate(["/admin/events"])},error:n=>{this.notificationService.error(n.message||"Erreur lors de la modification de l'\xE9v\xE9nement",12e3),console.error("Erreur lors de la modification de l'\xE9v\xE9nement :",n),this.isSubmitting=!1},complete:()=>{this.isSubmitting=!1}})}else Object.keys(this.eventForm.controls).forEach(i=>{let n=this.eventForm.get(i);n&&n.markAsTouched()})}static{this.\u0275fac=function(i){return new(i||a)(p(Z),p(z),p(ue),p(N),p(T))}}static{this.\u0275cmp=P({type:a,selectors:[["app-event-edit"]],standalone:!0,features:[E],decls:8,vars:2,consts:[[1,"edit-event"],[1,"header"],["routerLink","/admin/events",1,"back-btn"],[1,"fas","fa-arrow-left"],["class","loading-indicator",4,"ngIf"],["class","event-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"loading-indicator"],[1,"fas","fa-spinner","fa-spin"],[1,"event-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","title"],["id","title","type","text","formControlName","title"],["for","description"],["id","description","formControlName","description"],["for","date"],["id","date","type","datetime-local","formControlName","date",3,"min","max"],["for","location"],["id","location","type","text","formControlName","location"],["for","max_participants"],["id","max_participants","type","number","formControlName","max_participants"],["for","price"],["id","price","type","number","formControlName","price"],["for","type_event"],["id","type_event","formControlName","type_event"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","status"],["id","status","formControlName","status"],["value","UPCOMING"],["value","ONGOING"],["value","COMPLETED"],["value","CANCELLED"],[1,"form-actions"],["type","button","routerLink","/admin/events",1,"btn-cancel"],["type","submit",1,"btn-save",3,"disabled"],[3,"value"]],template:function(i,n){i&1&&(r(0,"div",0)(1,"header",1)(2,"button",2),l(3,"i",3),t(),r(4,"h1"),o(5,"Modifier l'\xE9v\xE9nement"),t()(),u(6,Ct,3,0,"div",4)(7,Mt,50,21,"form",5),t()),i&2&&(m(6),s("ngIf",n.loading),m(),s("ngIf",!n.loading))},dependencies:[S,A,k,ee,Q,be,ve,L,ge,fe,U,K,J,X,y,D],styles:[".edit-event[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem}.header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:2rem}.back-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;margin-right:1rem;color:#666}.back-btn[_ngcontent-%COMP%]:hover{color:#333}h1[_ngcontent-%COMP%]{margin:0;font-size:24px;color:#2c3e50}.loading-indicator[_ngcontent-%COMP%]{text-align:center;padding:2rem;font-size:1.2rem;color:#666}.event-form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 2px 4px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#2c3e50}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem;transition:border-color .2s}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db}.error[_ngcontent-%COMP%]{border-color:#dc3545}textarea[_ngcontent-%COMP%]{min-height:150px;resize:vertical}.form-actions[_ngcontent-%COMP%]{margin-top:2rem;display:flex;justify-content:flex-end;gap:1rem}.btn-cancel[_ngcontent-%COMP%]{background:#f8f9fa;color:#333;border:1px solid #ddd;padding:.75rem 2rem;border-radius:4px;font-size:1rem;cursor:pointer;transition:background-color .2s}.btn-cancel[_ngcontent-%COMP%]:hover{background:#e9ecef}.btn-save[_ngcontent-%COMP%]{background:#2c3e50;color:#fff;border:none;padding:.75rem 2rem;border-radius:4px;font-size:1rem;cursor:pointer;transition:background-color .2s}.btn-save[_ngcontent-%COMP%]:hover:not(:disabled){background:#34495e}.btn-save[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}"]})}}return a})();var Qe=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=P({type:a,selectors:[["app-admin-layout"]],standalone:!0,features:[E],decls:10,vars:0,consts:[[1,"admin-layout"],[1,"admin-nav"],["routerLink","/admin/dashboard","routerLinkActive","active"],["routerLink","/admin/events","routerLinkActive","active"],["routerLink","/admin/members","routerLinkActive","active"],[1,"admin-content"]],template:function(i,n){i&1&&(r(0,"div",0)(1,"nav",1)(2,"a",2),o(3,"Dashboard"),t(),r(4,"a",3),o(5,"\xC9v\xE9nements"),t(),r(6,"a",4),o(7,"Membres"),t()(),r(8,"main",5),l(9,"router-outlet"),t()())},dependencies:[S,y,Ue,D,Ve],styles:[".admin-layout[_ngcontent-%COMP%]{display:flex;min-height:100vh}.admin-nav[_ngcontent-%COMP%]{width:250px;background:#2c3e50;padding:2rem;display:flex;flex-direction:column;gap:1rem}.admin-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:.5rem 1rem;border-radius:4px}.admin-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .admin-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#ffffff1a}.admin-content[_ngcontent-%COMP%]{flex:1;padding:2rem;background:#f5f5f5}"]})}}return a})();var se=a=>({barre:a});function Ot(a,c){if(a&1){let e=I();r(0,"tr")(1,"td",11),o(2),t(),r(3,"td",11),o(4),t(),r(5,"td",11),o(6),t(),r(7,"td",11),o(8),t(),r(9,"td",11),o(10),B(11,"date"),t(),r(12,"td")(13,"span"),o(14),t()(),r(15,"td",12)(16,"button",13),h("click",function(){let n=M(e).$implicit,d=f();return O(d.toggleMemberStatus(n))}),l(17,"i",11),t(),r(18,"button",14),h("click",function(){let n=M(e).$implicit,d=f();return O(d.editMember(n))}),l(19,"i",15),t()()()}if(a&2){let e=c.$implicit;m(),s("ngClass",j(18,se,!e.isActive)),m(),v(e.lastName),m(),s("ngClass",j(20,se,!e.isActive)),m(),v(e.firstName),m(),s("ngClass",j(22,se,!e.isActive)),m(),v(e.email),m(),s("ngClass",j(24,se,!e.isActive)),m(),v(e.company),m(),s("ngClass",j(26,se,!e.isActive)),m(),v(G(11,15,e.joinDate,"dd/MM/yyyy")),m(3),Ae(e.isActive?"status-active":"status-inactive"),m(),x(" ",e.isActive?"Actif":"Inactif"," "),m(2),s("title",e.isActive?"D\xE9sactiver le membre":"Restaurer le membre"),m(),s("ngClass",e.isActive?"fas fa-user-check status-active-icon":"fas fa-user-slash status-inactive-icon")}}function Pt(a,c){a&1&&(r(0,"tr")(1,"td",16),o(2,"Aucun membre trouv\xE9"),t()())}function Et(a,c){a&1&&(r(0,"tr")(1,"td",17),l(2,"i",18),o(3," Chargement des membres... "),t()())}function St(a,c){if(a&1){let e=I();r(0,"div",19)(1,"div",20)(2,"h2"),o(3,"Confirmer la suppression"),t(),r(4,"p"),o(5),t(),r(6,"p",21),o(7,"Cette action est irr\xE9versible."),t(),r(8,"div",22)(9,"button",23),h("click",function(){M(e);let n=f();return O(n.showDeleteModal=!1)}),o(10,"Annuler"),t(),r(11,"button",24),h("click",function(){M(e);let n=f();return O(n.deleteMember())}),o(12,"Supprimer"),t()()()()}if(a&2){let e=f();m(5),pe("\xCAtes-vous s\xFBr de vouloir supprimer le membre ",e.selectedMember==null?null:e.selectedMember.firstName," ",e.selectedMember==null?null:e.selectedMember.lastName," ?")}}var Je=(()=>{class a{constructor(e,i,n,d){this.memberService=e,this.notificationService=i,this.router=n,this.memberRefreshService=d,this.members=[],this.filteredMembers=[],this.searchQuery="",this.loading=!0,this.showDeleteModal=!1,this.selectedMember=null,this.destroy$=new q,this.showAll=!1,this.router.events.pipe(Fe(_=>_ instanceof Le)).subscribe(_=>{_.urlAfterRedirects.startsWith("/admin/members")&&this.loadMembers()})}ngOnInit(){this.loadMembers(),this.memberRefreshService.refresh$.pipe($(this.destroy$)).subscribe(()=>{this.loadMembers()})}loadMembers(){this.loading=!0,(this.showAll?this.memberService.getAllMembersAdmin():this.memberService.getAllMembers()).subscribe({next:i=>{let n=[];Array.isArray(i)?n=i:Array.isArray(i?.data)&&(n=i.data),this.members=n.map(d=>W(d)),this.filterMembers(),this.loading=!1},error:i=>{console.error("Erreur lors du chargement des membres:",i),this.showErrorMessage("Erreur lors du chargement des membres"),this.loading=!1}})}filterMembers(){let e=this.searchQuery.toLowerCase();this.filteredMembers=this.members.filter(i=>i.firstName?.toLowerCase().includes(e)||i.lastName?.toLowerCase().includes(e)||i.email?.toLowerCase().includes(e)||i.company?.toLowerCase().includes(e))}viewProfile(e){this.router.navigate(["/admin/members",e.id])}editMember(e){this.router.navigate(["/admin/members",e.id])}toggleMemberStatus(e){e.isActive?this.memberService.deleteMember(e.id).subscribe({next:()=>{e.isActive=!1,this.showSuccessMessage("Compte d\xE9sactiv\xE9"),this.showInfoMessage("Email de d\xE9sactivation envoy\xE9"),this.memberRefreshService.triggerRefresh(),this.loadMembers()},error:i=>{this.showErrorMessage("Erreur lors de la d\xE9sactivation")}}):this.restoreMember(e)}confirmDelete(e){this.selectedMember=e,this.showDeleteModal=!0}deleteMember(){if(!this.selectedMember)return;let e=this.selectedMember.id;this.memberService.deleteMember(e).subscribe({next:()=>{this.members=this.members.filter(i=>i.id!==e),this.filterMembers(),this.showDeleteModal=!1,this.selectedMember=null},error:i=>{console.error("Error deleting member:",i),alert("Erreur lors de la suppression du membre. Veuillez r\xE9essayer."),this.showDeleteModal=!1}})}restoreMember(e){e.id&&this.memberService.restoreMember(e.id).subscribe({next:()=>{this.showSuccessMessage("Compte restaur\xE9"),this.showInfoMessage("Email de restauration envoy\xE9"),this.memberRefreshService.triggerRefresh(),this.loadMembers()},error:i=>{this.showErrorMessage("Erreur lors de la restauration du membre")}})}formatCompanyName(e){return e?.trim()?e:"Cliquez sur \xE9diter pour ajouter une entreprise"}showErrorMessage(e){this.notificationService.error(e)}showSuccessMessage(e){this.notificationService.success(e)}showInfoMessage(e){this.notificationService.info(e)}toggleShowAll(){this.showAll=!this.showAll,this.loadMembers()}static{this.\u0275fac=function(i){return new(i||a)(p(ne),p(T),p(N),p(te))}}static{this.\u0275cmp=P({type:a,selectors:[["app-admin-members"]],standalone:!0,features:[E],decls:32,vars:6,consts:[[1,"members-container"],[1,"members-header"],[1,"search-box"],["type","text","placeholder","Rechercher un membre...",3,"ngModelChange","keyup","ngModel"],[1,"filter-bar"],[3,"click"],[1,"members-table-container"],[1,"members-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","modal-overlay",4,"ngIf"],[3,"ngClass"],[1,"actions-cell"],[1,"btn-toggle-status",3,"click","title"],[1,"btn-edit",3,"click"],[1,"fas","fa-pen"],["colspan","8",1,"no-data"],["colspan","8",1,"loading"],[1,"fas","fa-spinner","fa-spin"],[1,"modal-overlay"],[1,"modal-content"],[1,"warning"],[1,"modal-actions"],[1,"btn-cancel",3,"click"],[1,"btn-confirm",3,"click"]],template:function(i,n){i&1&&(r(0,"div",0)(1,"header",1)(2,"h1"),o(3,"Gestion des Membres"),t(),r(4,"div",2)(5,"input",3),Te("ngModelChange",function(_){return De(n.searchQuery,_)||(n.searchQuery=_),_}),h("keyup",function(){return n.filterMembers()}),t()()(),r(6,"div",4)(7,"button",5),h("click",function(){return n.toggleShowAll()}),o(8),t()(),r(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th"),o(14,"Nom"),t(),r(15,"th"),o(16,"Pr\xE9nom"),t(),r(17,"th"),o(18,"Email"),t(),r(19,"th"),o(20,"Entreprise"),t(),r(21,"th"),o(22,"Date d'inscription"),t(),r(23,"th"),o(24,"Statut"),t(),r(25,"th"),o(26,"Actions"),t()()(),r(27,"tbody"),u(28,Ot,20,28,"tr",8)(29,Pt,3,0,"tr",9)(30,Et,4,0,"tr",9),t()()(),u(31,St,13,2,"div",10),t()),i&2&&(m(5),Ne("ngModel",n.searchQuery),m(3),x(" ",n.showAll?"Afficher uniquement les membres actifs":"Afficher tous les membres"," "),m(20),s("ngForOf",n.filteredMembers),m(),s("ngIf",n.filteredMembers.length===0&&!n.loading),m(),s("ngIf",n.loading),m(),s("ngIf",n.showDeleteModal))},dependencies:[S,je,A,k,H,_e,L,U,qe,y],styles:[".members-container[_ngcontent-%COMP%]{padding:2rem}.members-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.search-box[_ngcontent-%COMP%]{flex:0 0 300px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem}.members-table-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.members-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.members-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .members-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid #eee}.members-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f5f5f5;font-weight:600}.actions-cell[_ngcontent-%COMP%]{display:flex;gap:.5rem}.btn-view[_ngcontent-%COMP%], .btn-edit[_ngcontent-%COMP%], .btn-enable[_ngcontent-%COMP%], .btn-disable[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:1rem;padding:.5rem;border-radius:4px;transition:background-color .3s}.btn-view[_ngcontent-%COMP%]{color:#4caf50}.btn-edit[_ngcontent-%COMP%]{color:#2196f3}.btn-enable[_ngcontent-%COMP%]{color:#4caf50}.btn-disable[_ngcontent-%COMP%]{color:#ff9800}.btn-delete[_ngcontent-%COMP%]{color:#f44336}.btn-view[_ngcontent-%COMP%]:hover, .btn-edit[_ngcontent-%COMP%]:hover, .btn-enable[_ngcontent-%COMP%]:hover, .btn-disable[_ngcontent-%COMP%]:hover, .btn-delete[_ngcontent-%COMP%]:hover{background:#0000000d}.status-active[_ngcontent-%COMP%]{background:#e8f5e9;color:#1b5e20;padding:.3rem .6rem;border-radius:4px;font-size:.85rem}.status-inactive[_ngcontent-%COMP%]{background:#ffebee;color:#b71c1c;padding:.3rem .6rem;border-radius:4px;font-size:.85rem}.no-data[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#757575}.loading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;width:100%;max-width:500px}.warning[_ngcontent-%COMP%]{color:#f44336;font-weight:700}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:2rem}.btn-cancel[_ngcontent-%COMP%], .btn-confirm[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:4px;font-size:1rem;cursor:pointer}.btn-cancel[_ngcontent-%COMP%]{background:#f5f5f5;color:#333;border:1px solid #ddd}.btn-confirm[_ngcontent-%COMP%]{background:#f44336;color:#fff;border:none}.btn-toggle-status[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:1rem;padding:.5rem;border-radius:4px;transition:background-color .3s}.btn-toggle-status[_ngcontent-%COMP%]   .status-active-icon[_ngcontent-%COMP%]{color:#4caf50}.btn-toggle-status[_ngcontent-%COMP%]   .status-inactive-icon[_ngcontent-%COMP%]{color:#ff9800}.barre[_ngcontent-%COMP%]{text-decoration:line-through;color:#888}"]})}}return a})();function yt(a,c){if(a&1&&(r(0,"div",5)(1,"p"),o(2,"Chargement du membre..."),t(),r(3,"p",6),o(4),t()()),a&2){let e=f();m(4),x("ID du membre : ",e.memberId,"")}}function wt(a,c){a&1&&(r(0,"div",34),o(1," Email invalide "),t())}function It(a,c){a&1&&(r(0,"span"),o(1,"Le num\xE9ro de t\xE9l\xE9phone est requis."),t())}function kt(a,c){a&1&&(r(0,"span"),o(1,"Num\xE9ro de GSM belge invalide (ex: 0492390824 ou +32492390824)"),t())}function Ft(a,c){if(a&1&&(r(0,"div",34),u(1,It,2,0,"span",19)(2,kt,2,0,"span",19),t()),a&2){let e=f().ngIf;m(),s("ngIf",e.errors&&e.errors.required),m(),s("ngIf",e.errors&&e.errors.pattern)}}function At(a,c){if(a&1&&(ce(0),u(1,Ft,3,2,"div",16),de()),a&2){let e=f(2);m(),s("ngIf",e.isFieldInvalid("phone"))}}function Nt(a,c){if(a&1){let e=I();r(0,"form",7),h("ngSubmit",function(){M(e);let n=f();return O(n.onSubmit())}),r(1,"div",8)(2,"h3"),o(3,"Informations personnelles"),t(),r(4,"div",9)(5,"label",10),o(6,"Pr\xE9nom"),t(),l(7,"input",11),t(),r(8,"div",9)(9,"label",12),o(10,"Nom"),t(),l(11,"input",13),t(),r(12,"div",9)(13,"label",14),o(14,"Email *"),t(),l(15,"input",15),u(16,wt,2,0,"div",16),t(),r(17,"div",9)(18,"label",17),o(19,"GSM *"),t(),l(20,"input",18),u(21,At,2,1,"ng-container",19),t()(),r(22,"div",8)(23,"h3"),o(24,"Informations professionnelles"),t(),r(25,"div",9)(26,"label",20),o(27,"Entreprise"),t(),l(28,"input",21),t(),r(29,"div",9)(30,"label",22),o(31,"Position"),t(),l(32,"input",23),t()(),r(33,"div",8)(34,"h3"),o(35,"Liens et r\xE9seaux"),t(),r(36,"div",9)(37,"label",24),o(38,"LinkedIn"),t(),l(39,"input",25),t(),r(40,"div",9)(41,"label",26),o(42,"Site web"),t(),l(43,"input",27),t()(),r(44,"div",8)(45,"h3"),o(46,"Biographie"),t(),r(47,"div",9)(48,"label",28),o(49,"Bio"),t(),l(50,"textarea",29),t()(),r(51,"div",8)(52,"h3"),o(53,"Statut du compte"),t(),r(54,"div",9)(55,"label"),l(56,"input",30),o(57," Compte actif "),t()()(),r(58,"div",31)(59,"button",32),h("click",function(){M(e);let n=f();return O(n.onCancel())}),o(60,"Annuler"),t(),r(61,"button",33),o(62," Enregistrer les modifications "),t()()()}if(a&2){let e=f();s("formGroup",e.memberForm),m(7),b("error",e.isFieldInvalid("firstName")),m(4),b("error",e.isFieldInvalid("lastName")),m(4),b("error",e.isFieldInvalid("email")),m(),s("ngIf",e.isFieldInvalid("email")),m(4),b("error",e.isFieldInvalid("phone")),m(),s("ngIf",e.memberForm.get("phone")),m(40),s("disabled",!e.memberForm.valid||e.isSubmitting)}}var Xe=(()=>{class a{constructor(e,i,n,d,_){this.fb=e,this.memberService=i,this.router=n,this.route=d,this.notificationService=_,this.isSubmitting=!1,this.memberLoaded=!1,this.memberId=null,this.member=null,this.memberForm=this.fb.group({firstName:[""],lastName:[""],email:["",[g.required,g.email]],company:[""],position:[""],phone:["",[g.required,g.pattern(/^(0[1-9][0-9]{8}|(\+32)[1-9][0-9]{8})$/)]],bio:[""],linkedinUrl:[""],website:[""],isActive:[!0]})}ngOnInit(){console.log("MemberEditComponent initialized"),this.route.params.subscribe(e=>{let i=e.id;console.log("Member ID from route:",i),i&&(this.memberId=i,this.loadMember(i))})}loadMember(e){console.log("[MemberEditComponent] Loading member with ID:",e),this.memberService.getMemberById(e).subscribe({next:i=>{if(console.log("[MemberEditComponent] Member data received:",i),!i){console.error("[MemberEditComponent] Member data is null or undefined"),alert("Erreur: Membre non trouv\xE9"),this.router.navigate(["/admin/members"]);return}this.memberForm.patchValue({firstName:i.firstName||"",lastName:i.lastName||"",email:i.email||"",company:i.company||"",position:i.position||"",phone:i.phone||"",bio:i.bio||"",linkedinUrl:i.linkedinUrl||"",website:i.website||"",isActive:i.isActive??!0}),console.log("[MemberEditComponent] Form values after patch:",this.memberForm.value),this.memberLoaded=!0,this.member=i},error:i=>{console.error("[MemberEditComponent] Error loading member:",i),alert("Erreur lors du chargement du membre"),this.router.navigate(["/admin/members"])}})}isFieldInvalid(e){let i=this.memberForm.get(e);return i?i.invalid&&(i.dirty||i.touched):!1}onSubmit(){if(this.memberForm.valid&&!this.isSubmitting&&this.memberId){this.isSubmitting=!0;let e=this.memberForm.value,i={firstName:e.firstName?.trim(),lastName:e.lastName?.trim(),email:e.email?.trim(),company:e.company?.trim(),position:e.position?.trim(),phone:e.phone?.trim(),bio:e.bio?.trim(),linkedinUrl:e.linkedinUrl?.trim(),website:e.website?.trim(),isActive:e.isActive,role:this.member?.role};console.log("Updating member with data:",i),this.memberService.updateMember(this.memberId,i).subscribe({next:()=>{console.log("Member updated successfully"),this.notificationService.success("Membre mis \xE0 jour avec succ\xE8s"),this.notificationService.success("Email envoy\xE9 au membre"),this.router.navigate(["/admin/members"])},error:n=>{console.error("Error updating member:",n),alert("Erreur lors de la mise \xE0 jour du membre"),this.isSubmitting=!1}})}}onCancel(){confirm("\xCAtes-vous s\xFBr de vouloir annuler les modifications ?")&&this.router.navigate(["/admin/members"])}static{this.\u0275fac=function(i){return new(i||a)(p(Z),p(ne),p(N),p(ue),p(T))}}static{this.\u0275cmp=P({type:a,selectors:[["app-member-edit"]],standalone:!0,features:[E],decls:8,vars:2,consts:[[1,"edit-member-container"],[1,"form-header"],["routerLink","/admin/members",1,"back-link"],["class","loading",4,"ngIf"],["class","member-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"loading"],[1,"loading-details"],[1,"member-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"form-group"],["for","firstName"],["id","firstName","type","text","formControlName","firstName","placeholder","Pr\xE9nom"],["for","lastName"],["id","lastName","type","text","formControlName","lastName","placeholder","Nom"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Email"],["class","error-message",4,"ngIf"],["for","phone"],["id","phone","type","tel","formControlName","phone","placeholder","Num\xE9ro de GSM belge (ex: 0492390824 ou +32492390824)"],[4,"ngIf"],["for","company"],["id","company","type","text","formControlName","company","placeholder","Nom de l'entreprise"],["for","position"],["id","position","type","text","formControlName","position","placeholder","Position"],["for","linkedinUrl"],["id","linkedinUrl","type","url","formControlName","linkedinUrl","placeholder","URL LinkedIn"],["for","website"],["id","website","type","url","formControlName","website","placeholder","URL du site web"],["for","bio"],["id","bio","formControlName","bio","placeholder","Biographie","rows","4"],["type","checkbox","formControlName","isActive"],[1,"form-actions"],["type","button",1,"btn-cancel",3,"click"],["type","submit",1,"btn-submit",3,"disabled"],[1,"error-message"]],template:function(i,n){i&1&&(r(0,"div",0)(1,"div",1)(2,"h2"),o(3,"Modifier le membre"),t(),r(4,"a",2),o(5,"\u2190 Retour"),t()(),u(6,yt,5,1,"div",3)(7,Nt,63,12,"form",4),t()),i&2&&(m(6),s("ngIf",!n.memberLoaded),m(),s("ngIf",n.memberLoaded))},dependencies:[S,k,ee,Q,L,$e,U,K,J,X,y,D],styles:[".edit-member-container[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a}.form-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid #e0e0e0}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#2c3e50;font-size:1.8rem}.back-link[_ngcontent-%COMP%]{text-decoration:none;color:#666;font-weight:500;transition:color .2s}.back-link[_ngcontent-%COMP%]:hover{color:#333}.loading[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666}.loading-details[_ngcontent-%COMP%]{font-size:.9rem;color:#999;margin-top:.5rem}.form-section[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1.5rem;background:#f8f9fa;border-radius:8px}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:#2c3e50;font-size:1.2rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#2c3e50;font-weight:500}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=url][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:2px solid #e0e0e0;border-radius:6px;font-size:1rem;transition:all .2s}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 3px #3498db1a}.error[_ngcontent-%COMP%]{border-color:#e74c3c!important}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.875rem;margin-top:.25rem}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:2rem;padding-top:1rem;border-top:1px solid #e0e0e0}button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:6px;font-weight:500;cursor:pointer;transition:all .2s}.btn-cancel[_ngcontent-%COMP%]{background:#e0e0e0;border:none;color:#333}.btn-submit[_ngcontent-%COMP%]{background:#3498db;border:none;color:#fff}.btn-cancel[_ngcontent-%COMP%]:hover{background:#d5d5d5}.btn-submit[_ngcontent-%COMP%]:hover{background:#2980b9}button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}@media (max-width: 768px){.edit-member-container[_ngcontent-%COMP%]{margin:1rem;padding:1rem}.form-actions[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{width:100%}}"]})}}return a})();var Nn=[{path:"",component:Qe,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:He},{path:"events",component:Ye},{path:"events/create",component:We},{path:"events/edit/:id",component:Ke},{path:"members",component:Je},{path:"members/:id",component:Xe}]}];export{Nn as ADMIN_ROUTES};
